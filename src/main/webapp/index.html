<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>SalStocks</title>
	<link rel="stylesheet" type="text/css" href="search.css"/>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script>
	
	
		function search(){
		 	$.ajax({
		 		url: "Search",
		 		data:{
		 			query: document.searchForm.searchField.value
		 		},
		 		success: function(result){
		 			if(result.hasOwnProperty('error')){
			 			$(errorDiv).html("<h2>"+result.errorMessage+"<\h2>");
		 			}else{//Display the stock data
		 				console.log(result)
		 				$(homeDiv).html("<h2>Displaying data for "+result.ticker+"<\h2>");
		 			}
		 		}
		 	});
		}
	 
	 
	 
	</script> 
</head>
<body>

	<div id="homeDiv">
		<h1 id="title" class="title">STOCK SEARCH</h1>
		<form name="searchForm" method ="GET" action = "search();" id="search-form">
			<div class="search">
				<input type="text" class="round" id="searchField" name="searchField" placeholder="Enter stock ticker">
				<input type="button" class ="corner" onclick="search()" id="searchButton" name="searchButton">
			</div>
		</form>		
		<div id="errorDiv" class = "error"></div>
	</div>
		
	
	<script> 
        $(window).ready(function() {
        $("#search-form").on("keypress", function (event) {
            var keyPressed = event.keyCode || event.which;
            if (keyPressed === 13) {
                event.preventDefault();
                search();
                return false;
            }
        });
        });
    </script> 



</body>
</html>